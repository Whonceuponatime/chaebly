<template>
  <div class="letter-container">
    <div class="letter" :class="{ 'letter--open': isOpen, 'letter--close': !isOpen }">
      <div class="paper">
        <div class="paper-content">
          <h1>ë¹„ë°€ í¸ì§€</h1>
          <p>ì• ê¸°ì•¼, ë‚´ ì‚¬ë‘í•˜ëŠ” ë¯¼ì±„ì•¼ ğŸŒ™</p>
          <p>ì˜¤ëŠ˜ë”°ë¼ ë„¤ ìƒê°ì´ ë” ë§ì´ ë‚˜ê³ , ë§ˆìŒì´ ë„ˆë¬´ ë¬´ê±°ì›Œì„œ ì´ë ‡ê²Œ ê¸€ ë‚¨ê²¨. ê·¸ëƒ¥ ë¯¸ì•ˆí•˜ë‹¤ê³ ë§Œ í•˜ê¸°ì—” ë„ˆë¬´ ë¶€ì¡±í•œë°, ê·¸ë˜ë„ ë‚´ ì§„ì‹¬ì´ ì „í•´ì¡Œìœ¼ë©´ ì¢‹ê² ì–´.</p>
          <p>ì†”ì§íˆ ë‚˜ ë¶€ì¡±í•œ ê±° ë‚˜ë„ ì•„ëŠ”ë°, ë„ˆí•œí…Œ ê¸°ëŒ€ê¸°ë§Œ í–ˆë˜ ê²ƒ ê°™ì•„. ë„Œ í•­ìƒ ë‚˜ ì´í•´í•´ì£¼ê³ , ë°›ì•„ì£¼ê³ , ì•„ë¬´ ë§ ì—†ì´ ì•ˆì•„ì£¼ëŠ”ë°, ë‚˜ëŠ” ê·¸ë§Œí¼ í•´ì£¼ì§€ ëª»í–ˆë˜ ê²Œ ë„ˆë¬´ ë¯¸ì•ˆí•´. ì§„ì§œ ê°€ë”ì€ ë‚´ê°€ ì™œ ì´ëŸ¬ë‚˜ ì‹¶ê³ , ë„ˆí•œí…Œ ìƒì²˜ ì¤¬ì„ê¹Œ ë´ ê±±ì •ë¼.</p>
          <p>ê·¼ë° ì• ê¸°ì•¼, ë‚˜ ì§„ì§œ ì˜í• ê²Œ. ë§ë¡œë§Œì´ ì•„ë‹ˆë¼, ì§„ì§œ í–‰ë™ìœ¼ë¡œ ë³´ì—¬ì¤„ê²Œ. ë” ë§ì´ í‘œí˜„í•˜ê³ , ë” ë…¸ë ¥í•˜ê³ , ë” ì‚¬ë‘í• ê²Œ. ë„¤ê°€ ë‚´ ì˜†ì— ìˆë‹¤ëŠ” ê²Œ ì–¼ë§ˆë‚˜ ì†Œì¤‘í•œì§€, ìš”ì¦˜ ë“¤ì–´ ë” ë§ì´ ëŠë¼ê³  ìˆì–´.</p>
          <p>ë„ˆ ì—†ìœ¼ë©´ ì•ˆ ë  ê²ƒ ê°™ì•„. ë„ˆ ì—†ìœ¼ë©´ ì§„ì§œ ê³µí—ˆí•˜ê³ , í•˜ë£¨í•˜ë£¨ê°€ ì¬ë¯¸ì—†ì„ ê²ƒ ê°™ì•„. ê·¸ëŸ¬ë‹ˆê¹Œ ì•ìœ¼ë¡œë„ ë‚´ ì˜†ì— ìˆì–´ì¤˜. ë‚˜ë„ ë” ì¢‹ì€ ë‚¨ìì¹œêµ¬ê°€ ë  í…Œë‹ˆê¹Œ.</p>
          <p>ì‚¬ë‘í•´, ë‚´ ì• ê¸°. ê·¸ë¦¬ê³  í•­ìƒ ë‚´ ê³ì— ìˆì–´ì¤˜ì„œ ê³ ë§ˆì›Œ. ğŸ’™</p>
          <p class="signature">í˜¸ì§„ì´ê°€</p>
          <span class="paper-close" @click.stop="toggleEnvelope">Ã—</span>
        </div>
      </div>
      <div class="envelope" @click="toggleEnvelope">
        <div class="envelope-paper"></div>
        <div class="envelope-flap"></div>
        <div class="envelope-detail"></div>
        <div class="envelope__fold"></div>
      </div>
    </div>
  </div>
</template>

<script setup>
const isOpen = ref(false)

const toggleEnvelope = () => {
  isOpen.value = !isOpen.value
}

onMounted(() => {
  setTimeout(() => {
    isOpen.value = true
  }, 1000)
})
</script>

<style scoped>
.letter-container {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f8e8e8;
  padding: 2rem;
}

.letter {
  margin: 50px auto;
  max-width: 350px;
  height: 450px;
  position: relative;
  overflow: visible;
  display: block;
}

.paper {
  height: 50px;
  width: 90px;
  background: #f1f0c3;
  transform: translateY(150px);
  margin: 0 auto;
  transition: transform 0.3s 0.1s ease;
  border-radius: 2px;
  position: relative;
}

.letter--open .paper {
  animation: upthenscale 0.6s forwards;
}

.letter--close .paper {
  animation: scalethendown 0.4s forwards;
}

.paper-content {
  color: #545454;
  padding: 25px;
  opacity: 0;
  height: 100%;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #e65454 #f1f0c3;
}

.letter--open .paper-content {
  animation: waitfade 1.5s forwards;
}

.envelope {
  width: 94px;
  height: 60px;
  background: #f36363;
  position: relative;
  margin: auto;
  z-index: 2;
  cursor: pointer;
  border-radius: 3px;
  transition: box-shadow 0.3s ease;
  transform: translateY(210px);
  animation: wiggle 0.3s 0.2s infinite;
}

/* Add all the keyframe animations */
@keyframes upthenscale {
  0% { transform: translateY(150px); }
  50% { transform: translateY(0); }
  60% {
    height: 100px;
    width: 90px;
    transform: translateY(0);
  }
  100% { 
    height: 400px;
    width: 100%; 
    transform: translateY(-50px);
  }
}

@keyframes scalethendown {
  0% {
    height: 400px;
    width: 100%; 
    transform: translateY(-50px);
  }
  50% {
    height: 100px;
    width: 90px;
    transform: translateY(0);
  }
  60% { transform: translateY(0); }
  100% { transform: translateY(150px); }
}

@keyframes waitfade {
  0%, 50% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes wiggle {
  0% { transform: translateY(210px) rotate(0); }
  25% { transform: translateY(210px) rotate(2deg); }
  50% { transform: translateY(210px) rotate(0deg); }
  75% { transform: translateY(210px) rotate(-2deg); }
  100% { transform: translateY(210px) rotate(0); }
}

/* Add the rest of the envelope styles */
.envelope:hover {
  animation: none;
}

.envelope:hover .envelope-paper {
  transform: translateY(-20px);
}

.envelope:hover .envelope-flap {
  transform: translateY(-45px);
}

.envelope-paper {
  height: 50px;
  width: 90px;
  background: #f1f0c3;
  transform: translateY(0);
  margin: 0 auto;
  transition: transform 0.3s 0.1s ease;
  border-radius: 2px;
  position: absolute;
  border: 2px solid transparent;
}

.envelope-flap {
  content: '';
  width: 0;
  height: 0;
  border-left: 45px solid transparent;
  border-right: 45px solid transparent;
  border-bottom: 45px solid #f36363;
  display: block;
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  margin: auto;
  transform: translateY(0);
}

.envelope-detail {
  overflow: hidden;
  height: 100%;
  width: 100%;
  display: block;
  position: absolute;
  background: #f36363;
  border-top: 2px solid transparent;
}

.envelope-detail::before,
.envelope-detail::after {
  content: '';
  width: 70px;
  height: 70px;
  background: #f36363;
  display: block;
  position: absolute;
  left: 0;
  right: 0;
  margin: auto;
  transform: rotate(45deg);
  border: 4px solid #e65454;
}

.envelope-detail::before {
  top: 30px;
}

.envelope-detail::after {
  top: -45px;
}

.envelope__fold {
  height: 25px;
  width: 86px;
  background: #f36363;
  border: 4px solid #e65454;
  display: block;
  position: absolute;
  bottom: 30px;
  left: 0;
  right: 0;
  margin: auto;
  transition: all 0.3s ease;
  border-radius: 3px;
}

.paper-close {
  position: absolute;
  right: 10px;
  top: 5px;
  display: inline-block;
  cursor: pointer;
  font-size: 24px;
  color: #e65454;
}

/* Add visibility states */
.letter--open .envelope-paper,
.letter--close .envelope-paper {
  visibility: hidden;
}

.letter--open .envelope-detail::after {
  visibility: hidden;
}

.letter--open .envelope-flap {
  transform: translateY(-45px);
}

.letter--open .envelope-detail {
  border-top: 2px solid #e25b5b;
}

/* Mobile responsiveness */
@media (max-width: 480px) {
  .letter {
    max-width: 280px;
  }
  
  .paper-content {
    padding: 15px;
  }
  
  .paper-content h1 {
    font-size: 1.2rem;
  }
  
  .paper-content p {
    font-size: 0.9rem;
  }
}

/* Custom scrollbar for webkit browsers */
.paper-content::-webkit-scrollbar {
  width: 6px;
}

.paper-content::-webkit-scrollbar-track {
  background: #f1f0c3;
  border-radius: 3px;
}

.paper-content::-webkit-scrollbar-thumb {
  background: #e65454;
  border-radius: 3px;
}
</style> 